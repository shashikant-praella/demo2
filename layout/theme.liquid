<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="">
    <link rel="canonical" href="{{ canonical_url }}">

    {%- render 'preload-script' -%}

    {%- comment -%}Favicon Icon{%- endcomment -%}
    {%- if settings.favicon != blank -%}
      <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
    {%- endif -%}

    {%- comment -%}Pre-connects{%- endcomment -%}
    <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
    <link rel="preconnect" href="https://monorail-edge.shopifysvc.com" crossorigin>

    <title>{{ page_title }}</title>

    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}">
    {% endif %}

    {% comment %}theme-check-disable LiquidTag{% endcomment %}
    {%- render 'meta-tags' -%}
    {% capture CFH %}{{ content_for_header }}{% endcapture %}
    {% if template.name != 'product' and template.name != 'cart' %}
      {% capture CFH %}{{ CFH | replace: 'data-source-attribution="shopify.dynamic-checkout"', 'data-source-attribution="shopify.dynamic-checkout" type="text/gzip"' }}{% endcapture %}
    {% endif %}
    {% comment %}theme-check-enable LiquidTag{% endcomment %}
    {{ CFH }}

    {%- render 'styles-tags' -%}

    <script>document.documentElement.className = document.documentElement.className.replace('no-js', 'js');</script>
</head>

  <body class="template-{{ template.name }}">
    
    <a class="skip-to-content-link button visually-hidden-skip" href="#MainContent" title="{{ "accessibility.skip_to_text" | t }}">
      {{ "accessibility.skip_to_text" | t }}
    </a>

    <site-overlay class="d-block" id="site-overlay"></site-overlay>
  
    {% section 'header' %}

    {% section 'mobile-nav-drawer' %}

    {% section 'search-layer' %}

    {%- section 'newsletter' -%}
<div class="storeify-apm"></div>
    
    <main id="MainContent" class="content-for-layout focus-none" role="main" tabindex="-1">
      {{ content_for_layout }}
    </main>

    {% if template.name != 'cart' and settings.enable_cart_drawer %}
      {%- render 'cart-drawer' -%}
    {% endif %}

    {% if settings.enable_quickshop %}
      <quick-shop>
        
      </quick-shop>
    {% endif %}

    <modal-dialog id="PopupModal-video">
      <div class="modal" role="dialog">
          <div class="modal-dialog modal-dialog-centered" data-customVideoPopup>
            <div class="modal-content">
              <div class="modal-head">
                <button class="btn p-2 close-quickshop" type="button" id="ModalClose-video" aria-label="{{ 'sections.video-with-text.close_video' | t }}">
                  <span class="icon-close"></span>
                </button>
              </div>
              <div class="modal-body video-section">
              </div>
            </div>
          </div>
      </div>
    </modal-dialog> 
    {% comment %} popup for warranty products start {% endcomment %}
    {% if settings.local_zip_code and settings.warranty_feautre_product != blank %}
      {%- liquid  
        assign warranty_product = all_products[settings.warranty_feautre_product] 
        assign warranty_current_variant = warranty_product.selected_or_first_available_variant
        assign warranty_featured_image = warranty_current_variant.featured_image | default: warranty_product.featured_image
      %}
  
      <modal-dialog id="PopupModal-warranty">
        <div class="modal" role="dialog">
            <div class="modal-dialog modal-dialog-centered" data-warrantyPopup>
              <div class="modal-content p-4">
                <div class="modal-head">
                  <button class="btn p-2 close-quickshop" type="button" id="ModalClose-warranty" aria-label="{{ 'sections.video-with-text.close_video' | t }}">
                    <span class="icon-close"></span>
                  </button>
                </div>
                <div class="model-header text-center"><p>{{ 'warranty-feautres.popup.top-label' | t }} </p></div>
                <div class="modal-body warranty-section">
                  <p class="h5 text-center">{{ 'warranty-feautres.popup.title' | t }}</p>
                  <div class="warrenty-product row">
                    <div class="col-md-4">
                      {% if warranty_featured_image != blank %}
                      <img src="{{ warranty_featured_image | image_url: width: 100 }}" alt="{{ warranty_product.title }}"
                        width="" height="" loading="lazy"/>
                        {% else %}
                        {{ 'image' | placeholder_svg_tag: 'img-fluid' }}
                      {% endif %}
                    </div>
                    <div class="col-md-8">
                      <p>{{ warranty_product.title }}</p>
                      <p class="warranty-price">
                        {%- if warranty_current_variant.compare_at_price > warranty_current_variant.price -%}<s class="h6 text-gray-600 mr-2 money" data-comparePrice>{{ warranty_current_variant.compare_at_price | money }}</s>{%- endif -%}
                      <span class="actual-price money" data-currentPrice>{{ warranty_current_variant.price | money }}</span>
                      </p>
                      <a href="#" class="btn-link" title="View full details" 
                        aria-label="View full details" 
                        rel="nofollow"> View full details</a>
                    </div>
                  </div>
                </div>
                <div class="align-items-center d-flex justify-content-end model-footer">
                  <a href="#" class="btn-link me-4" warrenty_popup_close title="{{ 'warranty-feautres.popup.cancel_btn' | t }}" 
                    aria-label="{{ 'warranty-feautres.popup.cancel_btn' | t }}" 
                    rel="nofollow">{{ 'warranty-feautres.popup.cancel_btn' | t }}</a>
                  <a href="#" warranty_product_id="{{ warranty_current_variant.id }}" class="btn btn-primary" warrenty_add_to_cart title="{{ 'warranty-feautres.popup.submit_btn' | t }}" 
                    aria-label="{{ 'warranty-feautres.popup.submit_btn' | t }}" rel="nofollow">{{ 'warranty-feautres.popup.submit_btn' | t }}</a>
                </div>
              </div>
            </div>
        </div>
      </modal-dialog> 
   {% endif %}
    {% comment %} popup for warranty products end {% endcomment %}
    <custom-notification>
      <div class="snotifyToast">
        <div class="snotifyToast-dialog">
          <div class="snotifyToast__progressBar">
            <span class="snotifyToast__progressBar__percentage" data-toast-pr></span>
          </div>
          <div class="snotifyToast__inner">
            <div class="snotifyToast__title"></div>
            <div class="snotifyToast__body"></div>
            <div class="snotify-icon">
              {%- render 'snotify-icon' -%}
            </div>
          </div>
          <div class="snotifyToast__buttons">
            <button type="button" class="snotifyToast__close snotifyToast__buttons--bold">Close</button>
          </div>
        </div>
      </div>
    </custom-notification>

    {% section 'footer' %}

    {% section 'app-optimization' %}

    <ul hidden>
      <li id="a11y-refresh-page-message">{{ 'accessibility.refresh_page' | t }}</li>
    </ul>

    <script type="text/javascript">
      window.globalVariables = {
        cart: {{ cart | json }},
        product: {%- if template.name == 'product' -%}{{ product | json }}{%- else -%}{}{%- endif -%},
        collection: {%- if template.name == 'collection' -%}{
          all_products_count: {{ collection.all_products_count }},
          products: {{ collection.products | json }}
        }{%- else -%}{}{%- endif -%},
        template: '{{ template.name }}',
        templateSuffix: '{{ template.suffix }}',
        cart_drawer: {{ settings.enable_cart_drawer | json }},
        money_format: {{ shop.money_format | json }}
      };

      window.routes = {
        predictive_searh: '{{ routes.search_url }}/suggest.json',
        cart_fetch_url: '{{ routes.cart_url }}',
        cart_add_url: '{{ routes.cart_add_url }}',
        cart_change_url: '{{ routes.cart_change_url }}',
        cart_update_url: '{{ routes.cart_update_url }}'
      };

      window.cartStrings = {
        error: `{{ 'sections.cart.cart_error' | t }}`,
        quantityError: `{{ 'sections.cart.cart_quantity_error_html' | t }}`
      };

      window.variantStrings = {
        addToCart: `{{ 'products.product.add_to_cart' | t }}`,
        upsellAddText: `{{ 'products.product.upsell_add' | t }}`,
        soldOut: `{{ 'products.product.sold_out' | t }}`,
        unavailable: `{{ 'products.product.unavailable' | t }}`,
      };

      {%- if settings.enable_warranty_feautres -%}
        window.warranty_features = {
          locallocal_zip_code: {{ settings.local_zip_code | newline_to_br | strip_newlines | split: '<br />' | json }},
          warranty_feautre_product: `{{ all_products[settings.warranty_feautre_product].id }}`,
          warranty_collection_tag: "{{ settings.product_tag_warranty }}"
        }
      {%- endif -%}
    </script>

    {% if settings.enable_login_helper %}
      <script type="application/json" data-login-json>
        {
            "settings": {
              "type": "default",
              "enable": {% if settings.enable_login_helper %}true{% else %}false{% endif %},
              "account_not_found": "{% if settings.account_not_found %}{{ settings.account_not_found | escape }}{% else %}null{% endif %}",
              "account_enable": "{% if settings.account_enable %}{{ settings.account_enable | escape }}{% else %}null{% endif %}",
              "account_disable": "{% if settings.account_disable %}{{ settings.account_disable | escape }}{% else %}null{% endif %}",
              "account_invited": "{% if settings.account_invited %}{{ settings.account_invited | escape }}{% else %}null{% endif %}",
              "account_declined": "{% if settings.account_declined %}{{ settings.account_declined | escape }}{% else %}null{% endif %}"
            },
            "sender_email": {% if settings.sender_email %}"{{ settings.sender_email | escape }}"{% else %}null{% endif %},
            "status": null,
            "message": null,
            "customerEmail": "{{ customer.email }}",
            "isLoginFormVisible": true
        }
      </script>
    {% endif %}

    {%- render 'json-structured-data' -%}
    {%- render 'json-swatches-colorlist' -%}
    {%- render 'script-tags' -%}

    {% if template.name != 'product' and template.name != 'cart' %}
    <script type="text/javascript" defer>
        (function manageDynamicCheckoutJS() {
          let checkoutBtn = document.querySelector('#additional-checkout-buttons');
          if (checkoutBtn != null) {
            const onIntersection = (entries) => {
              for (const entry of entries) {
                if (entry.isIntersecting) {
                  let checkoutScript = document.createElement('script');
                  let paymentTarget = document.querySelector('[data-source-attribution="shopify.dynamic-checkout"]');
                  checkoutScript.integrity = paymentTarget.getAttribute('integrity');
                  checkoutScript.setAttribute('data-source-attribution', "shopify.dynamic-checkout");
                  checkoutScript.src = paymentTarget.getAttribute('src');
                  checkoutScript.setAttribute('crossorigin', "anonymous");
                  document.head.appendChild(checkoutScript);
                  observer.disconnect();
                }
              }
            };
            const observer = new IntersectionObserver(onIntersection);
            observer.observe(checkoutBtn);
          }
        })();
    </script>
    {% endif %}
{% include 'storeifyapps.appointment.header' %}
</body>
</html>